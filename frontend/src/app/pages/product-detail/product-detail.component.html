<div class="container-detail" *ngIf="product">
    <div class="product-grid">
        <div class="product-image">
            <img [src]="product.img" [alt]="product.name">
        </div>

        <div class="product-info">
            <nav class="breadcrumb">
                <a routerLink="/productos">Productos</a> / {{ product.name }}
            </nav>

            <h1>{{ product.name }}</h1>
            <p class="price">${{ product.price }} <small>por {{ product.unidad }}</small></p>
            <p class="description">{{ product.desc }}</p>

            <div class="options-section" *ngIf="product.variedades">
                <label>Seleccione Variedad:</label>
                <select [(ngModel)]="variedadSeleccionada" class="custom-select">
                    <option *ngFor="let v of product.variedades" [value]="v">{{ v }}</option>
                </select>
            </div>

            <div class="purchase-actions">
                <div class="quantity-group">
                    <label class="quantity-label">Cantidad en {{ product.unidad }}:</label>
                    <div class="quantity-selector">
                        <button (click)="cantidad = cantidad > 1 ? cantidad - 1 : 1">−</button>
                        <input type="number" [(ngModel)]="cantidad" min="1" readonly>
                        <button (click)="cantidad = cantidad + 1">+</button>
                    </div>
                </div>

                <button class="btn-add" (click)="agregarAlCarrito()">
                    Encargar Pedido
                </button>
            </div>
        </div>
    </div>
</div>

<div class="toast-notification" [class.show]="mostrarNotificacion">
    <div class="toast-content">
        <div class="check-circle">✓</div>
        <div class="toast-text">
            <p class="toast-title">¡Pedido Agregado!</p>
            <p class="toast-msg">{{ cantidad }} {{ product.unidad }}(s) de {{ product.name }}</p>
        </div>
    </div>
</div>